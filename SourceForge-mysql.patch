diff -Naur SF2.0/db/SourceForge.sql SF2.0-p/db/SourceForge.sql
--- SF2.0/db/SourceForge.sql	Thu Sep  7 23:39:37 2000
+++ SF2.0-p/db/SourceForge.sql	Tue Sep 19 20:49:25 2000
@@ -526,7 +526,7 @@
 
 CREATE TABLE frs_file (
   file_id int(11) NOT NULL auto_increment,
-  filename text,
+  filename char(255) NOT NULL,
   release_id int(11) DEFAULT '0' NOT NULL,
   type_id int(11) DEFAULT '0' NOT NULL,
   processor_id int(11) DEFAULT '0' NOT NULL,
diff -Naur SF2.0/www/include/database.php SF2.0-p/www/include/database.php
--- SF2.0/www/include/database.php	Thu Sep  7 23:37:53 2000
+++ SF2.0-p/www/include/database.php	Mon Sep 25 20:47:57 2000
@@ -21,6 +21,8 @@
 //	if ($GLOBALS[IS_DEBUG]) $GLOBALS[G_DEBUGQUERY] .= $qstring . "<BR>\n";
 	global $sys_dbname;
 	$GLOBALS['db_qhandle'] = @mysql($sys_dbname,$qstring);
+	if (!$GLOBALS['db_qhandle'] && !mysql_errno())
+		return true;
 	return $GLOBALS['db_qhandle'];
 }
 
